<!-- declaration defining this document is an HTML5 document, only appears once at top of each HTML page, does not have a closing tag -->
<!doctype html>

<!-- <html> is the root element of an HTML page -->
<!-- class no-js is a fallback that indicates that JavaScript is not supported or has not yet been loaded -->
<!-- lang attribute defines the document language and en simply stands for English -->
<html class="no-js" lang="en">

<!-- <head> is the container for the following elements: <title>, <style>, <meta>, <link>, <script>, <base> -->
<!-- <head> contains all metadata (data about data) -->
<head>

  <!-- utf-8 is a character encoding system allowing characters to be represented by ASCII text -->
  <meta charset="utf-8">

  <!-- The title of this document and is shown in the broswer tab -->
  <title>Mr Jason Code : Smarty Pants</title>

  <!-- Describes the content on this webpage -->
  <meta name="description" content="My first personal website.">

  <!-- define keywords and phrases on this webpage -->
  <meta name="keywords" content="Jason Weimer, Bangkok Thailand, Applied Technologies, ICS">

  <!-- setting the viewport default to make the website look good on all devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- og means "Open Graph", this information is used in social media postings -->
  <meta property="og:title" content="">
  <meta property="og:type" content="">
  <meta property="og:url" content="">
  <meta property="og:image" content="">

  <link rel="apple-touch-icon" href="icon.png">
  <!-- Place favicon.ico in the root directory -->

  <!-- CSS stylesheet from outside third party source here ( https://cdnjs.com/libraries/font-awesome ) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer"/>

  <!-- CSS stylesheet used to set defaults and normalize generic styles ** DO NOT CHANGE ** -->
  <link rel="stylesheet" href="css/normalize.css">

  <!-- CSS stylesheet that can be customized for this webiste -->
  <link rel="stylesheet" href="css/main.css">

  <!-- Used by some browsers to adjust the color of the address bar and/or other UI elements -->
  <meta name="theme-color" content="#fafafa">

  <!--
  <script src="https://cdn.jsdelivr.net/npm/openai@1.0.0-beta.0/dist/openai.js"></script>
  <script>
    const openai = new OpenAI('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');
  </script>
  -->

  <style>
    #chat-container {
      max-width: 500px;
      margin: 0 auto;
      padding: 20px;
      background-color: #f2f2f2;
      border-radius: 5px;
    }
    
    #chat-box {
      height: 300px;
      overflow-y: scroll;
      padding: 10px;
      background-color: white;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    
    #user-input {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      margin-top: 10px;
    }
    
    #submit-btn {
      width: 100%;
      padding: 10px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 10px;
    }
  </style>


</head>

<body>

  <header>
    <!-- Responsive top horizontal navigation bar -->
    <div class="navbar">
      <div class="logo"><a href="https://www.mrjasoncode.com/">MR JASON CODE</a></div>
      <ul class="links">
        <li><a href="about">ABOUT</a></li>
        <li><a href="studentwork">STUDENT WORK</a></li>
        <li><a href="thesandbox">THE SANDBOX</a></li>
        <li><a href="smartypants">SMARTY PANTS</a></li>
      </ul>
      <a href="mailto:jason_w@ics.ac.th?subject=Mr Jason Code Contact" class="action_btn">CONTACT</a>
      <div class="toggle_btn">
        <i class="fa-solid fa-bars"></i>
      </div>
    </div>

    <!-- Responsive top dropdown menu -->
    <div class="dropdown_menu">
      <li><a href="about">ABOUT</a></li>
      <li><a href="studentwork">STUDENT WORK</a></li>
      <li><a href="thesandbox">THE SANDBOX</a></li>
      <li><a href="smartypants">SMARTY PANTS</a></li>
      <li><a href="mailto:jason_w@ics.ac.th?subject=Mr Jason Code Contact" class="action_btn">CONTACT</a></li>
    </div>
  </header>

  <!-- Add webpage content here -->
  <main>
    <section id="hero" class="center">
      <!-- <h1>STUDENT WORK</h1> -->
      <h2>Smarty Pants</h2>
      <br />

      <div id="chat-container">
        <h1>ChatGPT Demo</h1>
        <div id="chat-box"></div>
        <input type="text" id="user-input" placeholder="Type your message">
        <button id="submit-btn">Send</button>
      </div>

      <script src="https://cdn.jsdelivr.net/npm/openai@1.0.0-beta.0/dist/openai.js"></script>
      
      <script>
        const openai = new OpenAI('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');
        const chatBox = document.getElementById('chat-box');
        const userInput = document.getElementById('user-input');
        const chatForm = document.getElementById('chat-form');
        
        chatForm.addEventListener('submit', async (event) => {
          event.preventDefault();
          const message = userInput.value;
          userInput.value = '';
      
          // Display user message in the chat box
          displayMessage('User', message);
      
          // Send user message to the OpenAI API
          const response = await openai.complete({
            model: 'gpt-3.5-turbo',
            messages: [{ role: 'system', content: 'You are a helpful assistant.' }, { role: 'user', content: message }],
          });
      
          // Display AI-generated response in the chat box
          const reply = response.choices[0].message.content;
          displayMessage('AI', reply);
        });
      
        function displayMessage(role, content) {
          const messageElement = document.createElement('p');
          messageElement.textContent = `${role}: ${content}`;
          chatBox.appendChild(messageElement);
          chatBox.scrollTop = chatBox.scrollHeight;
        }
      </script>

        <!--
        const openai = new OpenAI('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');
         -->

      <br />
      <a href="https://test-app-36496.bubbleapps.io/version-test" target="_blank" class="action_btn">VISIT SMARTY PANTS</a>
    </section>
  </main>

  <!-- JavaScript code that shows and hides responsive dropdown navigation -->
  <script>
    const toggleBtn = document.querySelector('.toggle_btn')
    const toggleBtnIcon = document.querySelector('.toggle_btn i')
    const dropDownMenu = document.querySelector('.dropdown_menu')

    toggleBtn.onclick = function() {
      dropDownMenu.classList.toggle('open')
      const isOpen = dropDownMenu.classList.contains('open')

      toggleBtnIcon.classList = isOpen
      ? 'fa-solid fa-xmark'
      : 'fa-solid fa-bars'
    }
  </script>

</body>

</html>